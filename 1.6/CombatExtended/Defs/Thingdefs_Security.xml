<?xml version="1.0" encoding="UTF-8"?>
<Defs>
	
	  <ThingDef Name="75MMTurretBase" ParentName="BuildingBase" Abstract="True">
	<thingClass>CombatExtended.Building_TurretGunCE</thingClass>
	<drawerType>MapMeshAndRealTime</drawerType>
	<graphicData>
	  <graphicClass>Graphic_Single</graphicClass>
	  <damageData>
		<rect>(0.2,0.2,0.6,0.6)</rect>
	  </damageData>
	  <drawSize>(3,3)</drawSize>
	</graphicData>
	<altitudeLayer>Building</altitudeLayer>
	<tradeability>All</tradeability>
	<techLevel>Industrial</techLevel>
	<statBases>
	  <MaxHitPoints>100</MaxHitPoints>
	  <Flammability>0.7</Flammability>
	  <Beauty>-60</Beauty>
	</statBases>
	<comps>
	  <li Class="CompProperties_Forbiddable" />
	</comps>
	<tickerType>Normal</tickerType>
	<passability>PassThroughOnly</passability>
	<pathCost>50</pathCost>
	<fillPercent>0.85</fillPercent>
	<castEdgeShadows>false</castEdgeShadows>
	<hasTooltip>true</hasTooltip>
	<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
	<building>
	  <ai_combatDangerous>true</ai_combatDangerous>
	  <turretBurstCooldownTime>1</turretBurstCooldownTime>
	</building>
	<placeWorkers>
	  <li>PlaceWorker_TurretTop</li>
	  <li>PlaceWorker_ShowTurretRadius</li>
	</placeWorkers>
	<tradeTags>
	  <li>CE_Turret</li>
	</tradeTags>
  </ThingDef>

  <ThingDef Name="75MMBase" ParentName="75MMTurretBase" Abstract="True">
	<designationCategory>Security</designationCategory>
	<comps>
	  <li Class="CompProperties_Flickable" />
	  <li Class="CompProperties_Breakdownable" />
	  <li Class="CompProperties_Stunnable">
		<affectedDamageDefs>
		  <li>EMP</li>
		</affectedDamageDefs>
	  </li>
	</comps>
  </ThingDef>
	
	<ThingDef ParentName="75MMBase">
	<defName>75MMAutoCannon</defName>
	<label>75MM Gravship Armament</label>
	<constructionSkillPrerequisite>6</constructionSkillPrerequisite>
	<graphicData>
	  <texPath>Things/Building/Security/GaussCannon_base</texPath>
	  <shadowData>
		<volume>(0.27,0.25,0.27)</volume>
		<offset>(0,0,0)</offset>
	  </shadowData>
	</graphicData>
	<uiIconPath>Things/Building/Security/GaussCannon_Icon</uiIconPath>
	<size>(3,3)</size>
	<statBases>
	  <WorkToBuild>40000</WorkToBuild>
	  <MaxHitPoints>750</MaxHitPoints>
	  <Flammability>0.5</Flammability>
	  <Mass>60</Mass>
	  <Bulk>80</Bulk>
	  <AimingAccuracy>1</AimingAccuracy>
	  <ShootingAccuracyTurret>1</ShootingAccuracyTurret>
	</statBases>
	<description>Plated automatic turret equiped with a high caliber machine gun. Very resistant to damage.</description>
	<costList>
	  <Steel>500</Steel>
	  <ComponentIndustrial>8</ComponentIndustrial>
	</costList>
	<building>
	  <ai_combatDangerous>true</ai_combatDangerous>
	  <turretGunDef>Gun_75MMAutoCannon</turretGunDef>
	  <turretTopDrawSize>5</turretTopDrawSize>
	  <turretTopOffset>(-0.1, 0.8)</turretTopOffset>
	</building>
	<placeWorkers>
	  <li>PlaceWorker_TurretTop</li>
	  <li>PlaceWorker_ShowTurretRadius</li>
	</placeWorkers>
	<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
	<comps>
	  <li Class="CompProperties_Power">
		<compClass>CompPowerTrader</compClass>
		<basePowerConsumption>600</basePowerConsumption>
	  </li>
	</comps>
	<researchPrerequisites>
	  <li>GravShipResearch</li>
	</researchPrerequisites>
  </ThingDef>

  <ThingDef ParentName="BaseTurretGun">
		<defName>Gun_75MMAutoCannon</defName>
		<label>75MM Autocannon</label>
		<graphicData>
			<texPath>Things/Building/Security/GaussCannon_Turret</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<description>Rapid Autocannon.</description>
		<statBases>
			<SightsEfficiency>1</SightsEfficiency>
			<ShotSpread>0.00</ShotSpread>
			<SwayFactor>0</SwayFactor>
			<RangedWeapon_Cooldown>0</RangedWeapon_Cooldown>
			<Mass>30</Mass>
		</statBases>
		<verbs>
			<li Class="CombatExtended.VerbPropertiesCE">
				<recoilAmount>0</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_75x350mmR_HE</defaultProjectile>
				<warmupTime>0</warmupTime>
				<range>90</range>
				<ticksBetweenBurstShots>15</ticksBetweenBurstShots>
				<burstShotCount>5</burstShotCount>
				<soundCast>HeavyMG</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>16</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</li>
		</verbs>
		<comps>
			<li Class="CombatExtended.CompProperties_AmmoUser">
				<magazineSize>50</magazineSize>
				<reloadTime>5</reloadTime>
				<ammoSet>AmmoSet_75x350mmR</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
				<aiAimMode>AimedShot</aiAimMode>
				<noSnapshot>true</noSnapshot>
				<noSingleShot>true</noSingleShot>
			</li>
		</comps>
	</ThingDef>

	<!--=============== Blaster CIWS Turret ===============-->

	<ThingDef ParentName="75MMBase">
		<defName>CIWS_Orbital</defName>
    <thingClass>CombatExtended.Building_CIWS_CE</thingClass>
		<label>Gravship CIWS</label>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<graphicData>
			<texPath>Things/Building/Security/GaussCannon_base</texPath>
			<graphicClass>Graphic_Single</graphicClass>
            <drawSize>(3, 3)</drawSize>
            <drawOffset>(0,0,-0.1)</drawOffset>
			<shadowData>
				<volume>(0.27,0.25,0.27)</volume>
				<offset>(0,0,0)</offset>
			</shadowData>
		</graphicData>
		<uiIconPath>Things/Building/Security/GaussCannon_Icon</uiIconPath>
		<statBases>
			<WorkToBuild>23000</WorkToBuild>
			<MaxHitPoints>150</MaxHitPoints>
			<Mass>20</Mass>
			<Bulk>25</Bulk>
			<AimingAccuracy>0.75</AimingAccuracy>
			<ShootingAccuracyTurret>1.25</ShootingAccuracyTurret>
			<NightVisionEfficiency>0.5</NightVisionEfficiency>
		</statBases>
		<techLevel>Spacer</techLevel>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>600</basePowerConsumption>
			</li>
		</comps>
		<researchPrerequisites>
	       <li>GravShipResearch</li>
	    </researchPrerequisites>
		<description>Automatic turret.</description>
		<costList>
			<Steel>250</Steel>
			<Plasteel>40</Plasteel>
			<ComponentIndustrial>6</ComponentIndustrial>
			<ComponentSpacer>1</ComponentSpacer>
		</costList>
		<building>
			<turretGunDef>Gun_CIWSOrbital</turretGunDef>
			<ai_combatDangerous>true</ai_combatDangerous>
			<turretTopDrawSize>5</turretTopDrawSize>
	        <turretTopOffset>(-0.1, 0.8)</turretTopOffset>
		</building>
		<designatorDropdown>CE_AutoTurrets</designatorDropdown>
		<placeWorkers>
			<li>PlaceWorker_TurretTop</li>
			<li>PlaceWorker_ShowTurretRadius</li>
		</placeWorkers>
		<researchPrerequisites>
			<li>CE_ChargeTurret</li>
		</researchPrerequisites>
	</ThingDef>

	<!--=============== Blaster CIWS Gun ===============-->

	<ThingDef ParentName="BaseAutoTurretGun">
		<defName>Gun_CIWSOrbital</defName>
		<label>blaster turret gun</label>
		<graphicData>
			<texPath>Things/Building/Security/GaussCannon_CIWS</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<description>Gravship CIWS</description>
		<soundInteract>Interact_ChargeRifle</soundInteract>
		<statBases>
			<SightsEfficiency>1</SightsEfficiency>
			<ShotSpread>0.06</ShotSpread>
			<SwayFactor>0.86</SwayFactor>
			<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
			<Mass>10</Mass>
		</statBases>
		<verbs>
			<li Class="CombatExtended.VerbPropertiesCE">
				<recoilAmount>0.90</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_35x228mmNATO_HE</defaultProjectile>
				<warmupTime>0.2</warmupTime>
				<range>55</range>
				<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
				<burstShotCount>10</burstShotCount>
				<soundCast>HeavyMG</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
			</li>
		<li Class="CombatExtended.VerbProperties_CIWSProjectile">
			<verbClass>CombatExtended.VerbCIWSProjectile</verbClass>
			<recoilAmount>0.90</recoilAmount>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>Bullet_35x228mmNATO_HE</defaultProjectile>
			<warmupTime>0.4</warmupTime>
			<range>105</range>
			<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
			<burstShotCount>10</burstShotCount>
			<soundCast>HeavyMG</soundCast>
			<soundCastTail>GunTail_Heavy</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
			<recoilPattern>Mounted</recoilPattern>
			<holdFireLabel>HoldCloseInProjectilesFire</holdFireLabel>
			<holdFireDesc>HoldCloseInProjectilesFireDesc</holdFireDesc>
		</li>
		<li Class="CombatExtended.VerbProperties_CIWSSkyfaller">
			<verbClass>CombatExtended.VerbCIWSSkyfaller</verbClass>
			<recoilAmount>0.90</recoilAmount>
			<hasStandardCommand>true</hasStandardCommand>
			<defaultProjectile>Bullet_35x228mmNATO_HE</defaultProjectile>
			<warmupTime>0.4</warmupTime>
			<range>105</range>
			<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
			<burstShotCount>10</burstShotCount>
			<soundCast>HeavyMG</soundCast>
			<soundCastTail>GunTail_Heavy</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
			<recoilPattern>Mounted</recoilPattern>
			<holdFireLabel>HoldCloseInSkyfallersFire</holdFireLabel>
		</li>
		</verbs>
		<comps>
			<li Class="CombatExtended.CompProperties_AmmoUser">
				<magazineSize>100</magazineSize>
				<reloadTime>7.8</reloadTime>
				<ammoSet>AmmoSet_35x228mm</ammoSet>
			</li>
			<li>
				<compClass>CombatExtended.CompVerbDisabler</compClass>
			</li>
		</comps>
	</ThingDef>

<!--                            Mortar         -->                     


<ThingDef Name="GravShip_Base" ParentName="BuildingBase" Abstract="True">
    <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
    <drawerType>MapMeshAndRealTime</drawerType>
    <drawHighlight>true</drawHighlight>
    <drawHighlightOnlyForHostile>true</drawHighlightOnlyForHostile>
    <graphicData>
      <graphicClass>Graphic_Single</graphicClass>
      <texPath>Things/Building/Security/GaussCannon_base</texPath>
      <drawSize>(3,3)</drawSize>
      <damageData>
        <rect>(0.38,0.2,0.56375,0.8)</rect>
        <cornerTL>Damage/Corner</cornerTL>
      </damageData>
      <shadowData>
        <offset>(-0.13,-0.87,-0.1)</offset>
        <volume>(0.5,0.4,1.05)</volume>
      </shadowData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <hasInteractionCell>True</hasInteractionCell>
    <interactionCellOffset>(0,0,-1)</interactionCellOffset>
    <stealable>false</stealable>
    <size>(3,3)</size>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <fillPercent>0.4</fillPercent>
    <tickerType>Normal</tickerType>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <designationCategory>Security</designationCategory>
    <constructionSkillPrerequisite>5</constructionSkillPrerequisite>
    <costList>
      <Steel>300</Steel>
      <ComponentIndustrial>6</ComponentIndustrial>
    </costList>
	<researchPrerequisites>
	  <li>GravShipResearch</li>
	</researchPrerequisites>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li Class="CompProperties_Mannable">
        <manWorkType>Violent</manWorkType>
        <planetLayerWhitelist>
          <li>Surface</li>
        </planetLayerWhitelist>
      </li>
    </comps>
    <statBases>
      <MaxHitPoints>180</MaxHitPoints>
      <Flammability>0.7</Flammability>
      <WorkToBuild>9000</WorkToBuild>
      <Mass>30</Mass>
      <Beauty>-20</Beauty>
      <Bulk>200</Bulk>
    </statBases>
    <building>
      <turretBurstWarmupTime>2.0</turretBurstWarmupTime>
      <turretBurstCooldownTime>2</turretBurstCooldownTime>
	  <turretTopDrawSize>5</turretTopDrawSize>
	  <turretTopOffset>(-0.1, 0.8)</turretTopOffset>
      <buildingTags>
        <li>Artillery</li>
      </buildingTags>
      <spawnedConceptLearnOpportunity>CE_MortarDirectFire</spawnedConceptLearnOpportunity>
    </building>
    <placeWorkers>
      <li>PlaceWorker_NotUnderRoof</li>
      <li>PlaceWorker_TurretTop</li>
      <li>PlaceWorker_PreventInteractionSpotOverlap</li>
    </placeWorkers>
    <researchPrerequisites>
      <li>Mortars</li>
    </researchPrerequisites>
    <uiIconScale>1.1</uiIconScale>
</ThingDef>

<ThingDef ParentName="GravShip_Base">
    <defName>Turret_GravShip</defName>
    <label>105mm Artillery</label>
    <description>A manned mortar that launches all kinds of shells. While it can inflict devastating damage, the mortar's inherent inaccuracy makes it more useful for attacking large fortifications than groups of enemies in the field.</description>
    <costListForDifficulty>
      <difficultyVar>classicMortars</difficultyVar>
      <invert>true</invert>
      <costList>
        <ComponentIndustrial>6</ComponentIndustrial>
        <ReinforcedBarrel>1</ReinforcedBarrel>
      </costList>
    </costListForDifficulty>
    <designationHotKey>Misc4</designationHotKey>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <building>
      <turretGunDef>Artillery_GravShip</turretGunDef>
      <buildingTags>
        <li>Artillery_BaseDestroyer</li>
        <li>Artillery_MannedMortar</li>
      </buildingTags>
    </building>
    <uiIconPath>Things/Building/Security/GaussCannon_Icon</uiIconPath>
    <uiIconScale>0.9</uiIconScale>
</ThingDef>

<ThingDef ParentName="BaseArtilleryWeapon">
    <defName>Artillery_GravShip</defName>
    <label>mortar</label>
    <description>Mortar launcher. Lobs bombs over walls. Very inaccurate but long-ranged.</description>
    <recoilPower>3</recoilPower>
    <graphicData>
      <texPath>Things/Building/Security/GaussCannon_Artillery</texPath>
    </graphicData>
    <weaponTags>
      <li>Artillery_BaseDestroyer</li>
      <li>TurretGun</li>
    </weaponTags>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <verbClass>CombatExtended.Verb_ShootMortarCE</verbClass>
        <forceNormalTimeSpeed>false</forceNormalTimeSpeed>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_105mmHowitzerShell_HE</defaultProjectile>
        <warmupTime>2</warmupTime>
        <minRange>32</minRange>
        <range>700</range>
        <burstShotCount>1</burstShotCount>
        <soundCast>Mortar_LaunchA</soundCast>
        <muzzleFlashScale>16</muzzleFlashScale>
        <circularError>1</circularError>
        <indirectFirePenalty>0.2</indirectFirePenalty>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
      </li>
    </verbs>
    <comps>
      <li Class="CompProperties_ChangeableProjectile" />
      <li Class="CombatExtended.CompProperties_Charges">
        <chargeSpeeds>
          <li>30</li>
          <li>50</li>
          <li>70</li>
          <li>90</li>
        </chargeSpeeds>
      </li>
      <li Class="CombatExtended.CompProperties_AmmoUser">
        <magazineSize>1</magazineSize>
        <reloadTime>2</reloadTime>
        <ammoSet>AmmoSet_105mmHowitzerShell</ammoSet>
      </li>
    </comps>
    <statBases>
      <SightsEfficiency>0.5</SightsEfficiency>
    </statBases>
    <building>
      <fixedStorageSettings>
        <filter>
          <categories>
            <li>MortarShells</li>
          </categories>
        </filter>
      </fixedStorageSettings>
      <defaultStorageSettings>
        <filter>
          <categories>
            <li>MortarShells</li>
          </categories>
          <disallowedThingDefs>
            <li>Shell_Firefoam</li>
            <li>Shell_AntigrainWarhead</li>
          </disallowedThingDefs>
        </filter>
      </defaultStorageSettings>
    </building>
</ThingDef>

</Defs>
